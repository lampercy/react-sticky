!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactSticky=e(require("react"),require("react-dom")):t.ReactSticky=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Channel=e.StickyContainer=e.Sticky=void 0;var r=n(6),i=o(r),a=n(5),c=o(a),u=n(1),s=o(u);e.Sticky=i.default,e.StickyContainer=c.default,e.Channel=s.default,e.default=i.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";n(this,t);var r=[];e=e||{},this.subscribe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";e===o&&r.push(t)},this.unsubscribe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if(e===o){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}},this.update=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";n===o&&(t&&t(e),r.forEach(function(t){return t(e)}))}};e.default=o,t.exports=e.default},function(t,e,n){t.exports=n(10)()},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(3),f=o(s),l=n(2),h=o(l),p=n(4),d=o(p),y=n(1),m=o(y),v=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.updateOffset=function(t){var e=t.inherited,o=t.offset;n.channel.update(function(t){t.inherited=e+o},n.props.channelName)},n.channel=new m.default({inherited:0,offset:0,node:null},t.channelName),n}return c(e,t),u(e,[{key:"getChildContext",value:function(){return{"sticky-channel":this.channel}}},{key:"componentWillMount",value:function(){var t=this.context["sticky-channel"];t&&t.subscribe(this.updateOffset,this.props.channelName)}},{key:"componentDidMount",value:function(){var t=d.default.findDOMNode(this);this.channel.update(function(e){e.node=t},this.props.channelName)}},{key:"componentWillUnmount",value:function(){this.channel.update(function(t){t.node=null},this.props.channelName);var t=this.context["sticky-channel"];t&&t.unsubscribe(this.updateOffset,this.props.channelName)}},{key:"render",value:function(){var t=this.props,e=(t.channelName,r(t,["channelName"]));return f.default.createElement("div",e,this.props.children)}}]),e}(f.default.Component);v.contextTypes={"sticky-channel":h.default.any},v.childContextTypes={"sticky-channel":h.default.any},v.defaultProps={channelName:"default"},e.default=v,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f=n(3),l=o(f),h=n(2),p=o(h),d=n(4),y=(o(d),n(9)),m=o(y),v=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getChildren=function(t){n._children=t},n.getPlaceholder=function(t){n._placeholder=t},n.updateContext=function(t){var e=t.inherited,o=t.node;n.containerNode=o,n.setState({containerOffset:e,distanceFromBottom:n.getDistanceFromBottom()})},n.recomputeState=function(){var t=n.isSticky(),e=n.getHeight(),o=n.getPlaceholderBoundingRect(),r=o.width,i=o.left,a=n.getDistanceFromBottom(),c=n.state.isSticky!==t;n.setState({isSticky:t,height:e,width:r,xOffset:i,distanceFromBottom:a}),c&&(n.channel&&n.channel.update(function(e){e.offset=t?n.state.height:0},n.props.channelName),n.props.onStickyStateChange(t))},n.state={},n.recomputeState=(0,m.default)(n.recomputeState.bind(n),50),n}return c(e,t),s(e,[{key:"componentWillMount",value:function(){this.channel=this.context["sticky-channel"],this.channel.subscribe(this.updateContext,this.props.channelName)}},{key:"componentDidMount",value:function(){this.on(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.recomputeState()}},{key:"componentWillReceiveProps",value:function(){this.recomputeState()}},{key:"componentWillUnmount",value:function(){this.off(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.channel.unsubscribe(this.updateContext,this.props.channelName)}},{key:"getPlaceholderBoundingRect",value:function(){return this._placeholder?this._placeholder.getBoundingClientRect():{}}},{key:"getXOffset",value:function(){return this.getPlaceholderBoundingRect().left||0}},{key:"getWidth",value:function(){return this.getPlaceholderBoundingRect().width||0}},{key:"getHeight",value:function(){return this._children?this._children.getBoundingClientRect().height:0}},{key:"getDistanceFromTop",value:function(){return this.getPlaceholderBoundingRect().top||0}},{key:"getDistanceFromBottom",value:function(){return this.containerNode?this.containerNode.getBoundingClientRect().bottom:0}},{key:"isSticky",value:function(){if(!this.props.isActive)return!1;var t=this.getDistanceFromTop(),e=this.getDistanceFromBottom(),n=this.state.containerOffset-this.props.topOffset,o=this.state.containerOffset+this.props.bottomOffset;return t<=n&&e>=o}},{key:"on",value:function(t,e){t.forEach(function(t){window.addEventListener(t,e)})}},{key:"off",value:function(t,e){t.forEach(function(t){window.removeEventListener(t,e)})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this,o=Object.keys(this.props);if(Object.keys(t).length!=o.length)return!0;var r=o.every(function(e){return t.hasOwnProperty(e)&&t[e]===n.props[e]});if(!r)return!0;var i=this.state;if(e.isSticky!==i.isSticky)return!0;if(i.isSticky){if(e.height!==i.height)return!0;if(e.width!==i.width)return!0;if(e.xOffset!==i.xOffset)return!0;if(e.containerOffset!==i.containerOffset)return!0;if(e.distanceFromBottom!==i.distanceFromBottom)return!0}return!1}},{key:"render",value:function(){var t={paddingBottom:0},e=this.props.className,n=u({},{transform:"translateZ(0)"},this.props.style);if(this.state.isSticky){var o={position:"fixed",top:this.state.containerOffset,left:this.state.xOffset,width:this.state.width},i=this.state.distanceFromBottom-this.state.height-this.props.bottomOffset;this.state.containerOffset>i&&(o.top=i),t.paddingBottom=this.state.height,e+=" "+this.props.stickyClassName,n=u({},n,o,this.props.stickyStyle)}var a=this.props,c=(a.topOffset,a.isActive,a.stickyClassName,a.stickyStyle,a.bottomOffset,a.onStickyStateChange,a.channelName,r(a,["topOffset","isActive","stickyClassName","stickyStyle","bottomOffset","onStickyStateChange","channelName"]));return l.default.createElement("div",null,l.default.createElement("div",{ref:this.getPlaceholder,style:t}),l.default.createElement("div",u({},c,{ref:this.getChildren,className:e,style:n}),this.props.children))}}]),e}(l.default.Component);v.propTypes={isActive:p.default.bool,className:p.default.string,style:p.default.object,stickyClassName:p.default.string,stickyStyle:p.default.object,topOffset:p.default.number,bottomOffset:p.default.number,onStickyStateChange:p.default.func,channelName:p.default.string},v.defaultProps={isActive:!0,className:"",style:{},stickyClassName:"sticky",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){},channelName:"default"},v.contextTypes={"sticky-channel":p.default.any},e.default=v,t.exports=e.default},function(t,e){"use strict";function n(t){return function(){return t}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o,i,a,c,u){if(r(e),!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,i,a,c,u],l=0;s=new Error(e.replace(/%s/g,function(){return f[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var r=function(t){};t.exports=o},function(t,e){(function(e){function n(t,e,n){function o(e){var n=y,o=m;return y=m=void 0,S=e,b=t.apply(o,n)}function i(t){return S=t,g=setTimeout(f,e),j?o(t):b}function a(t){var n=t-O,o=t-S,r=e-n;return _?x(r,v-o):r}function s(t){var n=t-O,o=t-S;return void 0===O||n>=e||n<0||_&&o>=v}function f(){var t=w();return s(t)?l(t):void(g=setTimeout(f,a(t)))}function l(t){return g=void 0,C&&y?o(t):(y=m=void 0,b)}function h(){void 0!==g&&clearTimeout(g),S=0,y=O=m=g=void 0}function p(){return void 0===g?b:l(w())}function d(){var t=w(),n=s(t);if(y=arguments,m=this,O=t,n){if(void 0===g)return i(O);if(_)return g=setTimeout(f,e),o(O)}return void 0===g&&(g=setTimeout(f,e)),b}var y,m,v,b,g,O,S=0,j=!1,_=!1,C=!0;if("function"!=typeof t)throw new TypeError(u);return e=c(e)||0,r(n)&&(j=!!n.leading,_="maxWait"in n,v=_?k(c(n.maxWait)||0,e):v,C="trailing"in n?!!n.trailing:C),d.cancel=h,d.flush=p,d}function o(t,e,o){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(u);return r(o)&&(i="leading"in o?!!o.leading:i,a="trailing"in o?!!o.trailing:a),n(t,e,{leading:i,maxWait:e,trailing:a})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||i(t)&&O.call(t)==f}function c(t){if("number"==typeof t)return t;if(a(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=p.test(t);return n||d.test(t)?y(t.slice(2),n?2:8):h.test(t)?s:+t}var u="Expected a function",s=NaN,f="[object Symbol]",l=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,b=m||v||Function("return this")(),g=Object.prototype,O=g.toString,k=Math.max,x=Math.min,w=function(){return b.Date.now()};t.exports=o}).call(e,function(){return this}())},function(t,e,n){"use strict";var o=n(7),r=n(8);t.exports=function(){function t(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=o,n.PropTypes=n,n}}])});